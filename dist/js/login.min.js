"use strict";function goTo(e){window.scroll(0,document.querySelector("#"+e).offsetTop)}function postRequest(e,o,t){var n=new XMLHttpRequest;return n.onreadystatechange=function(){4==this.readyState&&t(n.responseText)},n.open("POST",e,!0),n.setRequestHeader("Content-type","application/json"),n.send(JSON.stringify(o)),!1}function getRequest(e,o){var t=new XMLHttpRequest;t.onreadystatechange=function(){4==this.readyState&&o(t.responseText)},t.open("GET",e,!0),t.send()}function showLoginFom(){return indexSection.classList.add("hide"),loginSection.classList.add("show"),!1}function showRegisterFom(){return indexSection.classList.add("hide"),registerSection.classList.add("show"),!1}function loginCall(){return document.querySelectorAll(".error").forEach(function(e){return e.classList.remove("error")}),postRequest("/login",{email:email.value,password:password.value},toHomePage),!1}function toHomePage(e){if("object"==(void 0===e?"undefined":_typeof(e))&&1===e.error)return document.querySelector("#"+e.field).classList.add("error"),document.querySelector("#lbl_"+e.field).classList.add("error"),!1;window.location.href="/"}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},form=document.querySelector("#login-form"),email=document.querySelector("#email"),password=document.querySelector("#password"),loginBlock=document.querySelector("#login_block"),registerBlock=document.querySelector("#register_block"),indexSection=document.querySelector(".section.index"),loginSection=document.querySelector(".section.login"),registerSection=document.querySelector(".section.register");window.onload=function(){form.onsubmit=loginCall,loginBlock.onclick=showLoginFom,registerBlock.onclick=showRegisterFom};